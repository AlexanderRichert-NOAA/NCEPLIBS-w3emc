<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: w3fi85.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.7.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('w3fi85_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">w3fi85.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="w3fi85_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a2dfac12c57c3882ab71df73ae85329ef"><td class="memItemLeft" align="right" valign="top"><a id="a2dfac12c57c3882ab71df73ae85329ef"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8501</b> (KARY, ISTEP, KCLASS, KSEG, IDATA, RDATA, KDATA, NSUB, KDESC, NRDESC, IERRTN)</td></tr>
<tr class="separator:a2dfac12c57c3882ab71df73ae85329ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2db7280cff113d09e4ade7687aaca1a"><td class="memItemLeft" align="right" valign="top"><a id="aa2db7280cff113d09e4ade7687aaca1a"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8502</b> (, KBUFR, KCLASS, KSEG, KDESC, NRDESC, I, ISTEP, KARY, KDATA, ISECT3, KRFVSW, NEWRFV, LDESC, IERRTN, INDEXB)</td></tr>
<tr class="separator:aa2db7280cff113d09e4ade7687aaca1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ffb3c26f568c33248204db13547c2f"><td class="memItemLeft" align="right" valign="top"><a id="a65ffb3c26f568c33248204db13547c2f"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8503</b> (I, KDESC, NRDESC, ISECT3, IUNITD, KSEQ, KNUM, KLIST, IERRTN)</td></tr>
<tr class="separator:a65ffb3c26f568c33248204db13547c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f6aae9ed57d3745d0e142b54366427"><td class="memItemLeft" align="right" valign="top"><a id="a52f6aae9ed57d3745d0e142b54366427"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8505</b> (MIF, MDESC, NR, IERRTN)</td></tr>
<tr class="separator:a52f6aae9ed57d3745d0e142b54366427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909b8c9399363ed4f51c78bedb57f3cd"><td class="memItemLeft" align="right" valign="top"><a id="a909b8c9399363ed4f51c78bedb57f3cd"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8506</b> (ISTEP, ISECT3, KARY, JDESC, NEWNR, KDESC, NRDESC, LDESC, ANAME, AUNITS, KSCALE, KRFVAL, KWIDTH, KRFVSW, NEWRFV, KSEQ, KNUM, KLIST, IBFSIZ, KDATA, KBUFR, IERRTN, INDEXB)</td></tr>
<tr class="separator:a909b8c9399363ed4f51c78bedb57f3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97892186cc13a9f697d5cc447131db26"><td class="memItemLeft" align="right" valign="top"><a id="a97892186cc13a9f697d5cc447131db26"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8508</b> (ISTEP, IUNITB, IDATA, KDESC, NRDESC, ATEXT, KSUB, KARY, KDATA, LDESC, ANAME, AUNITS, KSCALE, KRFVAL, KRFVSW, ISECT3, KWIDTH, KASSOC, IUNITD, KSEQ, KNUM, KLIST, IERRTN, INDEXB)</td></tr>
<tr class="separator:a97892186cc13a9f697d5cc447131db26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fe930255ffb0865c2329031d294786"><td class="memItemLeft" align="right" valign="top"><a id="a43fe930255ffb0865c2329031d294786"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8509</b> (ISTEP, IUNITB, RDATA, KDESC, NRDESC, ATEXT, KSUB, KARY, KDATA, LDESC, ANAME, AUNITS, KSCALE, KRFVAL, KRFVSW, ISECT3, KWIDTH, KASSOC, IUNITD, KSEQ, KNUM, KLIST, IERRTN, INDEXB)</td></tr>
<tr class="separator:a43fe930255ffb0865c2329031d294786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5983e91fa36267f15a462c84a649de3"><td class="memItemLeft" align="right" valign="top"><a id="ae5983e91fa36267f15a462c84a649de3"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8511</b> (ISECT3, KARY, JIF, JDESC, NEWNR, KIF, KDESC, NRDESC, IERRTN)</td></tr>
<tr class="separator:ae5983e91fa36267f15a462c84a649de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab388b83b7f0918bbae5097408882c6b9"><td class="memItemLeft" align="right" valign="top"><a id="ab388b83b7f0918bbae5097408882c6b9"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8512</b> (IUNITB, ISECT3, KDESC, NRDESC, KARY, IERRTN, LDESC, ANAME, AUNITS, KSCALE, KRFVAL, KWIDTH, KRFVSW, IUNITD, KSEQ, KNUM, KLIST, INDEXB)</td></tr>
<tr class="separator:ab388b83b7f0918bbae5097408882c6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17405ce8ebd7d06c0bedf0bea6ae2105"><td class="memItemLeft" align="right" valign="top"><a id="a17405ce8ebd7d06c0bedf0bea6ae2105"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>fi8513</b> (IUNITD, ISECT3, KSEQ, KNUM, KLIST, IERRTN)</td></tr>
<tr class="separator:a17405ce8ebd7d06c0bedf0bea6ae2105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952501a26ebad493c05a3b8028fc6cd7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="w3fi85_8f.html#a952501a26ebad493c05a3b8028fc6cd7">w3fi85</a> (ISTEP, IUNITB, IUNITD, IBFSIZ, ISECT1, ISECT3, JIF, JDESC, NEWNR, IDATA, RDATA, ATEXT, KASSOC, KIF, KDESC, NRDESC, ISEC2D, ISEC2B, KDATA, KARY, KBUFR, IERRTN)</td></tr>
<tr class="memdesc:a952501a26ebad493c05a3b8028fc6cd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUBPROGRAM: W3FI85 GENERATE BUFR MESSAGE PRGMMR: CAVANAUGH ORG: W/NMC42 DATE: 93-12-03.  <a href="w3fi85_8f.html#a952501a26ebad493c05a3b8028fc6cd7">More...</a><br /></td></tr>
<tr class="separator:a952501a26ebad493c05a3b8028fc6cd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a952501a26ebad493c05a3b8028fc6cd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952501a26ebad493c05a3b8028fc6cd7">&#9670;&nbsp;</a></span>w3fi85()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine w3fi85 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ISTEP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IUNITB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IUNITD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IBFSIZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>ISECT1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>ISECT3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>JIF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(3,*)&#160;</td>
          <td class="paramname"><em>JDESC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>NEWNR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>IDATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*)&#160;</td>
          <td class="paramname"><em>RDATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*1, dimension(*)&#160;</td>
          <td class="paramname"><em>ATEXT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KASSOC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KIF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(3,*)&#160;</td>
          <td class="paramname"><em>KDESC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NRDESC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(255)&#160;</td>
          <td class="paramname"><em>ISEC2D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>ISEC2B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(500,*)&#160;</td>
          <td class="paramname"><em>KDATA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KARY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>KBUFR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IERRTN</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SUBPROGRAM: W3FI85 GENERATE BUFR MESSAGE PRGMMR: CAVANAUGH ORG: W/NMC42 DATE: 93-12-03. </p>
<p>ABSTRACT: USING INFORMATION AVAILABLE IN SUPPLIED ARRAYS, GENERATE A BUFR MESSAGE (WMO CODE FM94). THERE MAY BE A SECTION 2 INCLUDED IN THE BUFR MESSAGE IF THE USER FOLLOWS PROPER PROCEDURE. MESSAGES ARE CONSTRUCTED IN ACCORDANCE WITH BUFR EDITION 2. ENTRIES FOR SECTION 1 MUST BE PASSED TO THIS ROUTINE IN THE ISECT1 ARRAY. ENTRIES FOR SECTION 3 MUST BE PASSED TO THIS ROUTINE IN ISECT3.</p>
<pre class="fragment">   IN THE EVENT THAT THE USER REQUESTS A REDUCTION OF REPORTS
</pre><p> IN A BUFR MESSAGE IF A PARTICULAR MESSAGE BECOMES OVERSIZED, THE POSSIBILITY EXISTS OF THE LAST BLOCK OF DATA PRODUCING AN OVERSIZED MESSAGE. THE USER MUST VERIFY THAT ISECT3(6) DOES IN FACT EQUAL ZERO TO ASSURE THAT ALL OF THE DATA HAS BEEN INCLUDED AS OUTPUT.</p>
<p>PROGRAM HISTORY LOG: 93-09-29 CAVANAUGH 94-03-22 J. HOPPA - CORRECTED AN ERROR WHEN WRITING THE DESCRIPTORS INTO THE BUFR MESSAGE 94-03-31 J. HOPPA - ADDED THE SUBSET NUMBER TO THE PARAMETER LIST OF SUBROUTINE FI8501 94-04-15 J. HOPPA - ADDED KBUFR TO THE PARAMETER LIST OF SUBROUTINE FI8502 94-04-20 J. HOPPA - ADDED THE KDATA PARAMETER COUNTER TO THE PARAMETER LIST OF SUBROUTINE FI8501 95-04-29 J. HOPPA - CHANGED NQ AND N TO KARY(2)</p><ul>
<li>CHANGED JK TO KARY(11)</li>
<li>ADDED AN ASSIGNMENT TO KARY(2) SO HAVE SOMETHING TO PASS TO SUBROUTINES</li>
<li>DELETED JK AND LL FROM CALL TO FI8501</li>
</ul>
<p>USAGE: CALL W3FI85(ISTEP,IUNITB,IUNITD,IBFSIZ,ISECT1,ISECT3,</p><ul>
<li>JIF,JDESC,NEWNR,IDATA,RDATA,ATEXT,KASSOC,</li>
<li>KIF,KDESC,NRDESC,ISEC2D,ISEC2B,</li>
<li><p class="startli">KDATA,KARY,KBUFR,IERRTN) INPUT ARGUMENT LIST: ISTEP - KEY FOR SELECTION OF PROCESSING STEP 1 = PROCESS INTEGER/TEXT ARRAY INTO KDATA 2 = PROCESS REAL/TEXT ARRAY INTO KDATA 3 = CONSTRUCT BUFR MESSAGE IUNITB - UNIT NUMBER OF DEVICE CONTAINING TABLE B IUNITD - UNIT NUMBER OF DEVICE CONTAINING TABLE D IBFSIZ - SIZE IN BYTES OF BUFR MESSAGE ARRAY (KBUFR) SHOULD BE A MULTIPLE OF WORD SIZE. ISECT1 - CONTAINS INFORMATION TO ENTER INTO SECTION 1 ( 1) EDITION NUMBER ( 2) BUFR MASTER TABLE NUMBER 0 = METEOROLOGICAL OTHERS NOT YET DEFINED ( 3) ORIGINATING CENTER - SUBCENTER NUMBER ( 4) ORIGINATING CENTER NUMBER ( 5) UPDATE SEQUENCE NUMBER ( 6) OPTIONAL SECTION FLAG SHOULD BE SET TO ZERO UNLESS USER WRITE ADDITIONAL CODE TO ENTER LOCAL INFORMATION INTO SECTION 3 ( 7) BUFR MESSAGE TYPE ( 8) BUFR MESSAGE SUB_TYPE ( 9) MASTER TABLE VERSION NUMBER (10) LOCAL TABLE VERSION NUMBER (11) YEAR OF CENTURY - REPRESENTATIVE OF DATA (12) MONTH - REPRESENTATIVE OF DATA (13) DAY - REPRESENTATIVE OF DATA (14) HOUR - REPRESENTATIVE OF DATA (15) MINUTE - REPRESENTATIVE OF DATA (16)-(20) UNUSED</p>
<p class="startli">ISECT3 - VALUES TO BE INSERTED INTO SECTION 3, AND TO CONTROL REPORT REDUCTION FOR OVERSIZED MESSAGES (1) NUMBER OF SUBSETS DEFINES THE NUMBER OF SUBSETS BEING PASSED TO THE ENCODER ROUTINE FOR INCLUSION INTO A BUFR MESSAGE. IF THE USER HAS SPECIFIED THE USE OF THE SUBSET/REPORT REDUCTION ACTIVATION SWITCH, THEN A PART OF THOSE SUBSETS MAY BE USED FOR THE CURRENT MESSAGE AND THE REMAINDER RETAINED FOR A SUBSEQUENT MESSAGE. (2) OBSERVED FLAG 0 = OBSERVED DATA 1 = OTHER DATA (3) COMPRESSED FLAG 0 = NONCOMPRESSED 1 = COMPRESSED (4) SUBSET/REPORT REDUCTION ACTIVATION SWITCH USED TO CONTROL THE NUMBER OF REPORTS ENTERED INTO A BUFR MESSAGE WHEN MAXIMUM MESSAGE SIZE IS EXCEEDED 0 = OPTION NOT ACTIVE 1 = OPTION IS ACTIVE. UNUSED SUBSETS WILL BE SHIFTED TO LOW ORDER POSITIONS OF ENTRY ARRAY. 2 = OPTION IS ACTIVE. UNUSED SUBSETS WILL REMAIN IN ENTRY POSITIONS.</p>
<p class="startli">NOTE:- IF THIS FLAG IS SET TO ANY OTHER VALUES, PROGRAM WILL BE TERMINATED WITH AN ERROR CONDITION. (5) NUMBER OF REPORTS TO DECREMENT BY, IF OVERSIZED MESSAGE (MINIMUM VALUE = ONE). IF ZERO IS ENTERED, IT WILL BE REPLACED BY ONE. (6) NUMBER OF UNUSED REPORTS RETURNED TO USER (7) NUMBER OF REPORTS INCLUDED IN MESSAGE (8) NUMBER OF TABLE B ENTRIES AVAILABLE TO DECODER (9) NUMBER OF TABLE D ENTRIES AVAILABLE TO DECODER (10) TEXT INPUT FLAG 0 = ASCII INPUT 1 = EBCIDIC INPUT</p>
<p class="startli">JIF - JDESC INPUT FORMAT FLAG 0 = F X Y 1 = DECIMAL FORMAT JDESC - LIST OF DESCRIPTORS TO GO INTO SECTION 3 EACH DESCRIPTOR = F * 16384 + X * 256 + Y THEY MAY OR MAY NOT BE AN EXACT MATCH OF THE WORKING DESCRIPTOR LIST IN KDESC. THIS SET OF DESCRIPTORS MAY CONTAIN SEQUENCE DESCRIPTORS TO PROVIDE ADDITIONAL COMPRESSION WITHIN THE BUFR MESSAGE. THERE MAY BE AS FEW AS ONE SEQUENCE DESCRIPTOR, OR AS MANY DESCRIPTORS AS THERE ARE IN KDESC. NEWNR - NR OF DESCRIPTORS IN JDESC IDATA - INTEGER ARRAY DIMENSIONED BY THE NUMBER OF DESCRIPTORS TO BE USED RDATA - REAL ARRAY DIMENSIONED BY THE NUMBER OF DESCRIPTORS TO BE USED ATEXT - ARRAY CONTAINING ALL TEXT DATA ASSOCIATED WITH A SPECIFIC REPORT. ALL DATA IDENTIFIED AS TEXT DATA MUST BE IN ASCII. KASSOC - INTEGER ARRAY DIMENSIONED BY THE NUMBER OF DESCRIPTORS TO BE USED, CONTAINING THE ASSOCIATED FIELD VALUES FOR ANY ENTRY IN THE DESCRIPTOR LIST. KIF - KDESC INPUT FORMAT FLAG 0 = F X Y 1 = DECIMAL FORMAT KDESC - LIST OF DESCRIPTORS TO GO INTO SECTION 3 FULLY EXPANDED SET OF WORKING DESCRIPTORS. THERE SHOULD BE AN ELEMENT DESCRIPTOR FOR EVERY DATA ENTRY, BUT THERE SHOULD BE NO SEQUENCE DESCRIPTORS NRDESC - NR OF DESCRIPTORS IN KDESC ISEC2D - DATA OR TEXT TO BE ENTERED INTO SECTION 2 ISEC2B - NUMBER OF BYTES OF DATA IN ISEC2D</p>
</li>
</ul>
<p>OUTPUT ARGUMENT LIST: KDATA - SOURCE DATA ARRAY . A 2-DIMENSION INTEGER ARRAY WHERE KDATA(SUBSET,PARAM) SUBSET = SUBSET NUMBER PARAM = PARAMETER NUMBER KARY - WORKING ARRAY FOR MESSAGE UNDER CONSTRUCTION (1) UNUSED (2) PARAMETER POINTER (3) MESSAGE BIT POINTER (4) DELAYED REPLICATION FLAG 0 = NO DELAYED REPLICATION 1 = CONTAINS DELAYED REPLICATION (5) BIT POINTER FOR START OF SECTION 4 (6) UNUSED (7) NR OF BITS FOR PARAMETER/DATA PACKING (8) TOTAL BITS FOR ASCII DATA (9) SCALE CHANGE VALUE (10) INDICATOR (USED IN W3FI85) 1 = NUMERIC DATA 2 = TEXT DATA (11) POINTER TO CURRENT POS IN KDESC (12) UNUSED (13) UNUSED (14) UNUSED (15) DATA TYPE (16) UNUSED (17) UNUSED (18) WORDS ADDED FOR TEXT OR ASSOCIATED FIELDS (19) LOCATION FOR TOTAL BYTE COUNT (20) SIZE OF SECTION 0 (21) SIZE OF SECTION 1 (22) SIZE OF SECTION 2 (23) SIZE OF SECTION 3 (24) SIZE OF SECTION 4 (25) SIZE OF SECTION 5 (26) NR BITS ADDED BY TABLE C OPERATOR (27) BIT WIDTH OF ASSOCIATED FIELD (28) JDESC INPUT FORM FLAG 0 = DESCRIPTOR IN F X Y FORM F IN JDESC(1,I) X IN JDESC(2,I) Y IN JDESC(3,I) 1 = DESCRIPTOR IN DECIMAL FORM IN JDESC(1,I) (29) KDESC INPUT FORM FLAG 0 = DESCRIPTOR IN F X Y FORM F IN KDESC(1,I) X IN KDESC(2,I) Y IN KDESC(3,I) 1 = DESCRIPTOR IN DECIMAL FORM IN KDESC(1,I) (30) BUFR MESSAGE TOTAL BYTE COUNT KBUFR - ARRAY TO CONTAIN COMPLETED BUFR MESSAGE IERRTN - ERROR RETURN FLAG KSEQ - WORKING ARRAY FOR TABLE D INITIAL SEARCH KEY KNUM - WORKING ARRAY FOR TABLE D NUMBER OF DESC'S IN SEQ KLIST - WORKING ARRAY FOR TABLE D SEQUENCES ANAME - TABLE B DESCRIPTOR NAMES AUNITS - TABLE B DESCRIPTOR UNITS LDESC - TABLE B DECIMAL EQUIV OF F X Y VALUES KSCALE - TABLE B STANDARD SCALE VALUES KFRVAL - TABLE B REFERENCE VALUES KRFVSW - TABLE B SWITCHES TO INDICATE IF HAVE NEW/OLD REF VAL NEWRFV - TABLE B NEW REFERENCE VALUES KWIDTH - ARRAY OF BIT WIDTHS FOR EACH ENTRY IN TABLE B</p>
<p>REMARKS: IERRTN = 0 NORMAL RETURN, BUFR MESSAGE RESIDES IN KBUFR IF ISECT3(4)= 0, ALL REPORTS HAVE BEEN PROCESSED INTO A BUFR MESSAGE IF ISECT3(4)= 1, A BUFR MESSAGE HAS BEEN GENERATED WITH ALL OR PART OF THE DATA PASSED TO THIS ROUTINE. ISECT3(6) CONTAINS THE NUMBER OF REPORTS THAT WERE NOT USED BUT ARE BEING HELD FOR THE NEXT MESSAGE. = 1 BUFR MESSAGE CONSTRUCTION WAS HALTED BECAUSE CONTENTS EXCEEDED MAXIMUM SIZE (ONLY WHEN ISECT3(4) = 0) = 2 BUFR MESSAGE CONSTRUCTION WAS HALTED BECAUSE OF ENCOUNTER WITH A DESCRIPTOR NOT FOUND IN TABLE B. = 3 ROUTINE WAS CALLED WITH NO SUBSETS = 4 ERROR OCCURED WHILE READING TABLE B = 5 AN ATTEMPT WAS MADE TO EXPAND JDESC INTO KDESC, BUT A DESCRIPTOR INDICATING DELAYED REPLICATION WAS ENCOUNTERED = 6 ERROR OCCURED WHILE READING TABLE D = 7 DATA VALUE COULD NOT BE CONTAINED IN SPECIFIED BIT WIDTH = 8 DELAYED REPLICATION NOT PERMITTED IN COMPRESSED DATA FORMAT = 9 AN OPERATOR DESCRIPTOR 2 04 YYY OPENING AN ASSOCIATED FIELD (YYY NOT EQ ZERO) WAS NOT FOLLOWED BY THE DEFINING DESCRIPTOR 0 31 021 (7957 DECIMAL). = 10 DELAYED REPLICATION DESCRIPTOR WAS NOT FOLLOWED BY DESCRIPTOR FOR DELAYED REPLICATION FACTOR. 0 31 001 0 31 002 0 31 011 0 31 012 = 11 ENCOUNTERED A REFERENCE VALUE THAT FORCED A DATA ELEMENT TO BECOME NEGATIVE = 12 NO MATCHING TABLE D ENTRY FOR SEQUENCE DESCRIPTOR. = 13 ENCOUNTERED A NON-ACCEPTABLE DATA ENTRY FLAG. ISECT3(6) SHOULD BE 0 OR 1. = 14 CONVERTING DESCRIPTORS FXY-&gt;DECIMAL, NUMBER TO CONVERT = 0 = 15 NO DESCRIPTORS SPECIFIED FOR SECTION 3 = 16 INCOMPLETE TABLE B, NUMBER OF DESCRIPTORS IN TABLE B DOES NOT MATCH NUMBER OF DESCRIPTORS NEEDED TO CONSTRUCT BUFR MESSAGE = 20 INCORRECT ENTRY OF REPLICATION OR SEQUENCE DESCRIPTOR IN LIST OF REFERENCE VALUE CHANGES = 21 INCORRECT OPERATOR DESCRIPTOR IN LIST OF REFERENCE VALUE CHANGES = 22 ATTEMPTING TO ENTER NEW REFERENCE VALUE INTO TABLE B, BUT DESCRIPTOR DOES NOT EXIST IN CURRENT MODIFIED TABLE B</p>
<p>ATTRIBUTES: LANGUAGE: IBM VS FORTRAN, CRAY CFT77 FORTRAN MACHINE: HDS, CRAY C916-128, Y-MP8/864, Y-MP EL92/256 </p>

<p class="definition">Definition at line <a class="el" href="w3fi85_8f_source.html#l00277">277</a> of file <a class="el" href="w3fi85_8f_source.html">w3fi85.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="w3fi85_8f.html">w3fi85.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

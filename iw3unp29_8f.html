<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: iw3unp29.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.7.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('iw3unp29_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">iw3unp29.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="iw3unp29_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ade469dc7a458658c23096016179ff9e2"><td class="memItemLeft" align="right" valign="top"><a id="ade469dc7a458658c23096016179ff9e2"></a>
character *6 function&#160;</td><td class="memItemRight" valign="bottom"><b>c01o29</b> (SUBSET)</td></tr>
<tr class="separator:ade469dc7a458658c23096016179ff9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a128244e0131b7729a0cd5a8394884823"><td class="memItemLeft" align="right" valign="top"><a id="a128244e0131b7729a0cd5a8394884823"></a>
character *8 function&#160;</td><td class="memItemRight" valign="bottom"><b>c02o29</b> ()</td></tr>
<tr class="separator:a128244e0131b7729a0cd5a8394884823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3c45449c312f0e99cdb92777a3220a"><td class="memItemLeft" align="right" valign="top"><a id="a0d3c45449c312f0e99cdb92777a3220a"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>i01o29</b> (LUNIT, HDR, IER)</td></tr>
<tr class="separator:a0d3c45449c312f0e99cdb92777a3220a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e0c357df4d0c782d851fdd8ce09e14"><td class="memItemLeft" align="right" valign="top"><a id="ae9e0c357df4d0c782d851fdd8ce09e14"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>i02o29</b> (LUNIT, OBS, IER)</td></tr>
<tr class="separator:ae9e0c357df4d0c782d851fdd8ce09e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0213dc1cf8d73c372bcacc88c16fdf9"><td class="memItemLeft" align="right" valign="top"><a id="af0213dc1cf8d73c372bcacc88c16fdf9"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>i03o29</b> (NUNIT, OBS, IER)</td></tr>
<tr class="separator:af0213dc1cf8d73c372bcacc88c16fdf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8734122f4e8dc4d7c3bee6b20163dc3f"><td class="memItemLeft" align="right" valign="top"><a id="a8734122f4e8dc4d7c3bee6b20163dc3f"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>i04o29</b> (P)</td></tr>
<tr class="separator:a8734122f4e8dc4d7c3bee6b20163dc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e6f36d2a7dae698c0dff8a77b078a2"><td class="memItemLeft" align="right" valign="top"><a id="a89e6f36d2a7dae698c0dff8a77b078a2"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>i05o29</b> (STRING, NUM, CHAR)</td></tr>
<tr class="separator:a89e6f36d2a7dae698c0dff8a77b078a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de5e205645a3843697845185ffaaeb1"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iw3unp29_8f.html#a1de5e205645a3843697845185ffaaeb1">iw3unp29</a> (LUNIT, OBS, IER)</td></tr>
<tr class="separator:a1de5e205645a3843697845185ffaaeb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae1a11087922d6d32c47d99994dc861"><td class="memItemLeft" align="right" valign="top"><a id="a7ae1a11087922d6d32c47d99994dc861"></a>
logical function&#160;</td><td class="memItemRight" valign="bottom"><b>l01o29</b> ()</td></tr>
<tr class="separator:a7ae1a11087922d6d32c47d99994dc861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af252340bc4d8811a4d6e799bdf1c3790"><td class="memItemLeft" align="right" valign="top"><a id="af252340bc4d8811a4d6e799bdf1c3790"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r01o29</b> (SUBSET, LUNIT, OBS)</td></tr>
<tr class="separator:af252340bc4d8811a4d6e799bdf1c3790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23b98e3d9c9097a9ea45e9473aee287"><td class="memItemLeft" align="right" valign="top"><a id="ae23b98e3d9c9097a9ea45e9473aee287"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r02o29</b> ()</td></tr>
<tr class="separator:ae23b98e3d9c9097a9ea45e9473aee287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf74c81fb101796c5ab245b59b0ab2ad"><td class="memItemLeft" align="right" valign="top"><a id="abf74c81fb101796c5ab245b59b0ab2ad"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r03o29</b> (LUNIT, OBS)</td></tr>
<tr class="separator:abf74c81fb101796c5ab245b59b0ab2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e52ce72580afe04ee309c16200108b"><td class="memItemLeft" align="right" valign="top"><a id="a46e52ce72580afe04ee309c16200108b"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r04o29</b> (LUNIT, OBS)</td></tr>
<tr class="separator:a46e52ce72580afe04ee309c16200108b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ccc2cccd3cb6bcd7b03d70675f4ca1"><td class="memItemLeft" align="right" valign="top"><a id="a46ccc2cccd3cb6bcd7b03d70675f4ca1"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r05o29</b> (LUNIT, OBS)</td></tr>
<tr class="separator:a46ccc2cccd3cb6bcd7b03d70675f4ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416026063ded48e8480b8e3b0896e74c"><td class="memItemLeft" align="right" valign="top"><a id="a416026063ded48e8480b8e3b0896e74c"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r06o29</b> (LUNIT, OBS)</td></tr>
<tr class="separator:a416026063ded48e8480b8e3b0896e74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f8486c638db70b2a2a61ac05bcdcac"><td class="memItemLeft" align="right" valign="top"><a id="a93f8486c638db70b2a2a61ac05bcdcac"></a>
function&#160;</td><td class="memItemRight" valign="bottom"><b>r07o29</b> (LUNIT, OBS)</td></tr>
<tr class="separator:a93f8486c638db70b2a2a61ac05bcdcac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f37364b576374fbe3c899bf5ba8d0b"><td class="memItemLeft" align="right" valign="top"><a id="a50f37364b576374fbe3c899bf5ba8d0b"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s01o29</b> (SID, XOB, YOB, RHR, RCH, RSV, RSV2, ELV, ITP, RTP)</td></tr>
<tr class="separator:a50f37364b576374fbe3c899bf5ba8d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde82aa52df7bac07bc64ff10e069651"><td class="memItemLeft" align="right" valign="top"><a id="abde82aa52df7bac07bc64ff10e069651"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s02o29</b> (ICAT, N,)</td></tr>
<tr class="separator:abde82aa52df7bac07bc64ff10e069651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2cb47a16ee97b27de331a013882382"><td class="memItemLeft" align="right" valign="top"><a id="ada2cb47a16ee97b27de331a013882382"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s03o29</b> (UNP, SUBSET,,)</td></tr>
<tr class="separator:ada2cb47a16ee97b27de331a013882382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad28b39cd4d3b38df93a51a15a56555"><td class="memItemLeft" align="right" valign="top"><a id="a2ad28b39cd4d3b38df93a51a15a56555"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s04o29</b></td></tr>
<tr class="separator:a2ad28b39cd4d3b38df93a51a15a56555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80679ca645813f0da98c23fe6bc79a4"><td class="memItemLeft" align="right" valign="top"><a id="ac80679ca645813f0da98c23fe6bc79a4"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s05o29</b></td></tr>
<tr class="separator:ac80679ca645813f0da98c23fe6bc79a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d15cb33d16ceab9921e8add94c30a42"><td class="memItemLeft" align="right" valign="top"><a id="a2d15cb33d16ceab9921e8add94c30a42"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>s06o29</b> (IDEN, ID)</td></tr>
<tr class="separator:a2d15cb33d16ceab9921e8add94c30a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a1de5e205645a3843697845185ffaaeb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1de5e205645a3843697845185ffaaeb1">&#9670;&nbsp;</a></span>iw3unp29()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function iw3unp29 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dimension(*)&#160;</td>
          <td class="paramname"><em>OBS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IER</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section author"><dt>Author</dt><dd>D. A. KEYSER </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2013-03-20</dd></dl>
<p>NOTICE: This routine has not been tested reading input data from any dump type in ON29/124 format on WCOSS. It likely will not work when attempting to read ON29/124 format dumps on WCOSS. It has also not been tested reading any dump file other than ADPUPA (BUFR input only) on WCOSS. It does work reading BUFR ADPUPA dump files on WCOSS. It will hopefully working reading other BUFR (only) dump files on WCOSS.</p>
<p>Also, this routine is only known to work correctly when compiled using 8 byte machine words (real and integer).</p>
<p>READS AND UNPACKS ONE REPORT INTO THE UNPACKED OFFICE NOTE 29/124 FORMAT. THE INPUT DATA MAY BE PACKED INTO EITHER BUFR OR TRUE ON29/124 FORMAT WITH A Y2K COMPLIANT PSEUDO-ON85 HEADER LABEL. (NOTE: AS A TEMPORARY MEASURE, THIS CODE WILL STILL OPERATE ON A TRUE ON29/124 FORMAT FILE WITH A NON-Y2K COMPLIANT ON85 HEADER LABEL. THE CODE WILL USE THE "WINDOWING" TECHNIQUE TO OBTAIN A 4-DIGIT YEAR.) THIS ROUTINE WILL DETERMINE THE FORMAT OF THE INPUT DATA AND TAKE THE APPROPRIATE ACTION. IT RETURNS THE UNPACKED REPORT TO THE CALLING PROGRAM IN THE ARRAY 'OBS'. VARIOUS CONTINGENCIES ARE COVERED BY RETURN VALUE OF THE FUNCTION AND PARAMETER 'IER' - FUNCTION AND IER HAVE SAME VALUE. REPEATED CALLS OF FUNCTION WILL RETURN A SEQUENCE OF UNPACKED ON29/124 REPORTS. THE CALLING PROGRAM MAY SWITCH TO A NEW 'NUNIT' AT ANY TIME, THAT DATASET WILL THEN BE READ IN SEQUENCE. IF USER SWITCHES BACK TO A PREVIOUS 'NUNIT', THAT DATA SET WILL BE READ FROM THE BEGINNING, NOT FROM WHERE THE USER LEFT OFF (THIS IS A 'SOFTWARE TOOL', NOT AN ENTIRE I/O SYSTEM).</p>
<p>PROGRAM HISTORY LOG: -1996-12-13 J. S. WOOLLEN (GSC) &ndash; ORIGINAL AUTHOR - NOTE THIS NEW VERSION OF IW3GAD INCORPORATES THE EARLIER VERSION WHICH WAS WRITTEN BY J. STACKPOLE AND DEALT ONLY WITH TRUE ON29/124 DATA AS INPUT - THIS OPTION IS STILL AVAILABLE BUT IS A SMALL PART OF THE NEW ROUTINE WHICH WAS WRITTEN FROM SCRATCH TO READ IN BUFR DATA. -1997-01-27 D. A. KEYSER &ndash; CHANGES TO MORE CLOSELY DUPLICATE FORMAT OBTAINED WHEN READING FROM TRUE ON29/124 DATA SETS. -1997-02-04 D. A. KEYSER &ndash; DROPS WITH MISSING STNID GET STNID SET TO "DRP88A"; SATWNDS WITH ZERO PRESSURE ARE TOSSED -1997-02-12 D. A. KEYSER &ndash; TO GET AROUND THE 3-BIT LIMITATION TO THE ON29 PRESSURE Q.M. MNEMONIC "QMPR", AN SDMEDIT/QUIPS PURGE OR REJECT FLAG ON PRESSURE IS CHANGED FROM 12 OR 14 TO 6 IN ORDER TO FIT INTO 3-BITS, SEE FUNCTION E35O29; INTERPRETS SDMEDIT AND QUIPS PURGE/KEEP/CHANGE FLAGS PROPERLY FOR ALL DATA TYPES; CAN NOW PROCESS CAT. 6 AND CAT. 2/3 TYPE FLIGHT-LEVEL RECCOS (BEFORE SKIPPED THESE); TESTS FOR MISSING LAT, LON, OBTIME DECODED FROM BUFR AND RETAINS MISSING VALUE ON THESE IN UNPACKED ON29/124 FORMAT (BEFORE NO MISSING CHECK, LED TO POSSIBLE NON- MISSING BUT INCORRECT VALUES FOR THESE); THE CHECK FOR DROPS WITH MISSING STNID REMOVED SINCE DECODER FIXED FOR THIS -1997-05-01 D. A. KEYSER &ndash; LOOKS FOR DUPLICATE LEVELS WHEN PROCESSING ON29 CAT. 2, 3, AND 4 (IN ALL DATA ON LEVEL) AND REMOVES DUPLICATE LEVEL; IN PROCESSING ON29 CAT. 3 LEVELS, REMOVES ALL LEVELS WHERE WIND IS MISSING; FIXED BUG IN AIRCRAFT (AIREP/PIREP/AMDAR) QUALITY MARK ASSIGNMENT (WAS NOT ASSIGNING KEEP FLAG TO REPORT IF PRESSURE HAD A KEEP Q.M. BUT TEMPERATURE Q.M. WAS MISSING) -1997-05-30 D. A. KEYSER &ndash; FOR AIRCFT: (ONLY ACARS RIGHT NOW) - SECONDS ARE DECODED (IF AVAIL.) AND USED TO OBTAIN REPORT TIME; ONLY ASDAR/AMDAR - NEW CAT. 8 CODE FIGS. O-PUT 917 (CHAR. 1 &amp; 2 OF ACTUAL STNID), 918 (CHAR. 3 &amp; 4 OF ACTUAL STNID), 919 (CHAR. 5 &amp; 6 OF ACTUAL STNID); ASDAR/AMDAR AND ACARS - NEW CAT. 8 CODE FIG. O-PUT 920 (CHAR. 7 &amp; 8 OF ACTUAL STNID); ONLY ACARS - NEW CAT. 8 CODE FIG. O-PUT 921 (REPORT TIME TO NEAREST 1000'TH OF AN HOUR); ONLY SOME ACARS - NEW MNEMONIC "IALT" NOW EXISTS AND CAN (IF LINE NOT COMMENTED OUT) BE USED TO OBTAIN UNPACKED ON29 CAT. 6 -1997-07-02 D. A. KEYSER &ndash; REMOVED FILTERING OF AIRCRAFT DATA AS FOLLOWS: AIR FRANCE AMDARS NO LONGER FILTERED, AMDAR/ ASDAR BELOW 7500 FT. NO LONGER FILTERED, AIREP/PIREP BELOW 100 METERS NO LONGER FILTERED, ALL AIRCRAFT WITH MISSING WIND BUT VALID TEMPERATURE ARE NO LONGER FILTERED; REPROCESSES U.S. SATWND STN. IDS TO CONFORM WITH PREVIOUS ON29 APPEARANCE EXCEPT NOW 8-CHAR (TAG CHAR. 1 &amp; 6 NOT CHANGED FROM BUFR STN. ID) - NEVER ANY DUPL. IDS NOW FOR U.S. SATWNDS DECODED FROM A SINGLE BUFR FILE; STREAMLINED/ELIMINATED SOME DO LOOPS TO SPEED UP A BIT -1997-09-18 D. A. KEYSER &ndash; CORRECTED ERRORS IN REFORMATTING SURFACE DATA INTO UNPACKED ON124, SPECIFICALLY-HEADER: INST. TYPE (SYNOPTIC FMT FLG, AUTO STN. TYPE, CONVERTED HRLY FLG), INDICATORS (PRECIP., WIND SPEED, WX/AUTO STN), CAT51: P-TEND, HORIZ. VIZ., PRESENT/PAST WX, CLOUD INFO, MAX/ MIN TEMP, CAT52: PRECIP., SNOW DPTH, WAVE INFO, SHIP COURSE/SPEED, CAT8: CODE FIGS. 81-85,98; CORRECTED PROBLEM WHICH CODED UPPER-AIR MANDATORY LEVEL WINDS AS CAT. 3 INSTEAD OF CAT. 1 WHEN MASS DATA (ONLY) WAS REPORTED ON SAME MANDATORY LEVEL IN A SEPARATE REPORTED LEVEL IN THE RAW BULLETIN -1997-10-06 D. A. KEYSER &ndash; UPDATED LOGIC TO READ AND PROCESS NESDIS HI-DENSITY SATELLITE WINDS PROPERLY -1997-10-30 D. A. KEYSER &ndash; ADDED GROSS CHECK ON U-AIR PRESSURE, ALL LEVELS WITH REPORTED PRESSURE .LE. ZERO NOW TOSSED; SFC CAT. 52 SEA-SFC TEMPERATURE NOW READ FROM HIERARCHY OF SST IN BUFR {1ST CHOICE - HI-RES SST ('SST2'), 2ND CHOICE - LO-RES SST ('SST1'), 3RD CHOICE - SEA TEMP ('STMP')}, BEFORE ONLY READ 'SST1' -1998-01-26 D. A. KEYSER &ndash; CHANGED PQM PROCESSING FOR ADPUPA TYPES SUCH THAT SDMEDIT FLAGS ARE NOW HONORED (BEFORE, PQM WAS ALWAYS HARDWIRED TO 2 FOR ADPUPA TYPES); BUMPED LIMIT FOR NUMBER OF LEVELS THAT CAN BE PROCESSED FROM 100 TO 150 AND ADDED DIAGNOSTIC PRINT WHEN THE LIMIT IS EXCEEDED -1998-05-19 D. A. KEYSER &ndash; Y2K COMPLIANT VERSION OF IW3GAD ROUTINE ACCOMPLISHED BY REDEFINING ORIGINAL 32-CHARACTER ON85 HEADER LABEL TO BE A 40-CHARACTER LABEL THAT CONTAINS A FULL 4-DIGIT YEAR, CAN STILL READ "TRUE" ON29/124 DATA SETS PROVIDED THEIR HEADER LABEL IS IN THIS MODIFIED FORM -1998-07-22 D. A. KEYSER &ndash; MINOR MODIFICATIONS TO ACCOUNT FOR CORRECTIONS IN Y2K/F90 BUFRLIB (MAINLY RELATED TO BUFRLIB ROUTINE DUMPBF) -1998-08-04 D. A. KEYSER &ndash; FIXED A BUG THAT RESULTED IN CODE BEING CLOBBERED IN CERTAIN SITUATIONS FOR RECCO REPORTS; MINOR MODIFICATIONS TO GIVE SAME ANSWERS ON CRAY AS ON SGI; ALLOWED CODE TO READ TRUE ON29/124 FILES WITH NON-Y2K COMPLIANT ON85 LABEL (A TEMPORARY MEASURE DURING TRANSITION OF MAIN PROGRAMS TO Y2K); ADDED CALL TO "AEA" WHICH CONVERTS EBCDIC CHARACTERS TO ASCII FOR INPUT TRUE ON29/124 DATA SET PROCESSING OF SGI (WHICH DOES NOT SUPPORT "-Cebcdic" IN ASSIGN STATEMENT) -1999-02-25 D. A. KEYSER &ndash; ADDED ABILITY TO READ REPROCESSED SSM/I BUFR DATA SET (SPSSMI); ADDED ABILITY TO READ MEAN SEA-LEVEL PRESSURE BOGUS (PAOBS) DATA SET (SFCBOG) -1999-05-14 D. A. KEYSER &ndash; MADE CHANGES NECESSARY TO PORT THIS ROUTINE TO THE IBM SP -1999-06-18 D. A. KEYSER &ndash; CAN NOW PROCESS WATER VAPOR SATWNDS FROM FOREIGN PRODUCERS; STN. ID FOR FOREIGN SATWNDS NOW REPROCESSED IN SAME WAY AS FOR NESDIS/GOES SATWNDS, CHARACTER 1 OF STN. ID NOW DEFINES EVEN VS. ODD SATELLITE WHILE CHARACTER 6 OF STN. ID NOW DEFINES IR CLOUD-DRFT VS. VISIBLE CLOUD DRFT VS. WATER VAPOR -2002-03-05 D. A. KEYSER &ndash; REMOVED ENTRY "E02O29", NOW PERFORMS HEIGHT TO PRESS. CONVERSION DIRECTLY IN CODE FOR CAT. 7; TEST FOR MISSING "RPID" CORRECTED FOR ADPUPA DATA (NOW CHECKS UFBINT RETURN CODE RATHER THAN VALUE=BMISS); ACCOUNTS FOR CHANGES IN INPUT ADPUPA, ADPSFC, AIRCFT AND AIRCAR BUFR DUMP FILES AFTER 3/2002: CAT. 7 AND CAT. 51 USE MNEMONIC "HBLCS" TO GET HEIGHT OF CLOUD BASE IF MNEMONIC "HOCB" NOT AVAILABLE (AND IT WILL NOT BE FOR ALL CAT. 7 AND SOME CAT. 51 REPORTS); MNEMONIC "TIWM" REPLACES "SUWS" IN HEADER FOR SURFACE DATA; MNEMONIC "BORG" REPLACES "ICLI" IN CAT. 8 FOR AIRCRAFT DATA (WILL STILL WORK PROPERLY FOR INPUT ADPUPA, ADPSFC, AIRCFT AND AIRCAR DUMP FILES PRIOR TO 3/2002) -2013-03-20 D. A. KEYSER &ndash; CHANGES TO RUN ON WCOSS: OBTAIN VALUE OF BMISS SET IN CALLING PROGRAM VIA CALL TO BUFRLIB ROUTINE GETBMISS RATHER THAN HARDWIRING IT TO 10E08 (OR 10E10); USE FORMATTED PRINT STATEMENTS WHERE PREVIOUSLY UNFORMATTED PRINT WAS USED (WCOSS SPLITS UNFORMATTED PRINT AT 80 CHARACTERS)</p>
<p>USAGE: II = IW3UNP29(NUNIT, OBS, IER) INPUT ARGUMENT LIST: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNIT</td><td>- FORTRAN UNIT NUMBER FOR SEQUENTIAL DATA SET CONTAINING<ul>
<li>PACKED BUFR REPORTS OR PACKED AND BLOCKED OFFICE NOTE</li>
<li>29/124 REPORTS</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>OUTPUT ARGUMENT LIST: </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">OBS</td><td>- ARRAY CONTAINING ONE REPORT IN UNPACKED OFFICE NOTE<ul>
<li>29/124 FORMAT. FORMAT IS MIXED, USER MUST EQUIVALENCE</li>
<li>INTEGER AND CHARACTER ARRAYS TO THIS ARRAY (SEE</li>
<li>DOCBLOCK FOR W3FI64 IN /nwprod/lib/sorc/w3nco</li>
<li>OR WRITEUPS ON W3FI64, ON29, ON124 FOR HELP)</li>
<li>THE LENGTH OF THE ARRAY SHOULD BE AT LEAST 1608 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IER</td><td>- RETURN FLAG (EQUAL TO FUNCTION VALUE) - SEE REMARKS</td></tr>
  </table>
  </dd>
</dl>
<p>INPUT FILES:</p><ul>
<li>UNIT AA - SEQUENTIAL BUFR OR OFFICE NOTE 29/124 DATA SET ("AA"<ul>
<li>IS UNIT NUMBER SPECIFIED BY INPUT ARGUMENT "NUNIT")</li>
</ul>
</li>
</ul>
<p>OUTPUT FILES:</p><ul>
<li>UNIT 06 - PRINTOUT</li>
</ul>
<p>REMARKS: IF INPUT DATA SET IS ON29/124, IT SHOULD BE ASSIGNED IN THIS WAY: Cray: assign -a ADPUPA -Fcos -Cebcdic fort.XX SGI: assign -a ADPUPA -Fcos fort.XX (Note: -Cebcdic is not possible on SGI, so call to W3NCO routine "AEA" takes care of the conversion as each ON29 record is read in) IF INPUT DATA SET IS BUFR, IT SHOULD BE ASSIGNED IN THIS WAY: Cray: assign -a ADPUPA fort.XX SGI: assign -a ADPUPA -F cos fort.XX</p>
<p>NOTE: FOR INPUT ON29/124 DATA SETS, A CONTINGENCY HAS BEEN BUILT INTO THIS SUBROUTINE TO PERFORM THE CONVERSION FROM EBCDIC TO ASCII IN THE EVENT THE assign DOES NOT PERFORM THE CONVERSION</p>
<p>THE RETURN FLAGS IN IER (AND FUNCTION IW3UNP29 ITSELF) ARE:</p><ul>
<li>0 OBSERVATION READ AND UNPACKED INTO LOCATION 'OBS'. SEE WRITEUP OF W3FI64 FOR CONTENTS. (ALL CHARACTER WORDS ARE LEFT-JUSTIFIED.) NEXT CALL TO IW3UNP29 WILL RETURN NEXT OBSERVATION IN DATA SET.</li>
<li>1 A 40 BYTE HEADER IN THE FORMAT DESCRIBED HERE (Y2K COMPLIANT PSEUDO-OFFICE NOTE 85) IS RETURNED IN THE FIRST 10 WORDS OF 'OBS' ON a 4-BYTE MACHINE (IBM) AND IN THE FIRST 5 WORDS OF 'OBS' ON AN 8-BYTE MACHINE (CRAY). NEXT CALL TO IW3UNP29 WILL RETURN FIRST OBS. IN THIS DATA SET. (NOTE: IF INPUT DATA SET IS A TRUE ON29/124 FILE WITH THE Y2K COMPLIANT PSEUDO-ON85 HEADER RECORD, THEN THE PSEUDO-ON85 HEADER RECORD IS ACTUALLY READ IN AND RETURNED; IF INPUT DATA SET IS A TRUE ON29/124 FILE WITH A NON-Y2K COMPLIANT ON85 HEADER RECORD, THEN A Y2K COMPLIANT PSEUDO-ON85 HEADER RECORD IS CONSTRUCTED FROM IT USING THE "WINDOWING" TECHNIQUE TO OBTAIN A 4-DIGIT YEAR FROM A 2-DIGIT YEAR.) FORMAT FOR Y2K COMPLIANT PSEUDO-ON85 HEADER RECORD RETURNED (40 BYTES IN CHARACTER): BYTES 1- 8 &ndash; DATA SET NAME (AS DEFINED IN ON85 EXCEPT UP TO EIGHT ASCII CHAR., LEFT JUSTIFIED WITH BLANK FILL) BYTES 9-10 &ndash; SET TYPE (AS DEFINED IN ON85) BYTES 11-20 &ndash; CENTER (ANALYSIS) DATE FOR DATA SET (TEN ASCII CHARACTERS IN FORM "YYYYMMDDHH") BYTES 21-24 &ndash; SET INITIALIZE (DUMP) TIME, AS DEDINED IN ON85) BYTES 25-34 &ndash; ALWAYS "WASHINGTON" (AS IN ON85) BYTES 35-36 &ndash; SOURCE MACHINE (AS DEFINED IN ON85) BYTES 37-40 &ndash; BLANK FILL CHARACTERS</li>
<li>2 END-OF-FILE (NEVER AN EMPTY OR NULL FILE): INPUT ON29/124 DATA SET: THE "ENDOF FILE" RECORD IS ENCOUNTERED - NO USEFUL INFORMATION IN 'OBS' ARRAY. NEXT CALL TO IW3UNP29 WILL RETURN PHYSICAL END OF FILE FOR DATA SET IN 'NUNIT' (SEE IER=3 BELOW). INPUT BUFR DATA SET: THE PHYSICAL END OF FILE IS ENCOUNTERED.</li>
<li>3 END-OF-FILE: PHYSICAL END OF FILE ENCOUNTERED ON DATA SET - THIS CAN ONLY HAPPEN FOR AN EMPTY (NULL) DATA SET OR FOR A TRUE ON29/124 DATA SET. THERE ARE NO MORE REPORTS (OR NEVER WERE ANY IF NULL) ASSOCIATED WITH DATA SET IN THIS UNIT NUMBER - NO USEFUL INFORMATION IN 'OBS' ARRAY. EITHER ALL DONE (IF NO MORE UNIT NUMBERS ARE TO BE READ IN), OR RESET 'NUNIT' TO POINT TO A NEW DATA SET (IN WHICH CASE NEXT CALL TO IW3UNP29 SHOULD RETURN WITH IER=1).</li>
<li>4 ONLY VALID FOR INPUT ON29/124 DATA SET - I/O ERROR READING THE NEXT RECORD OF REPORTS - NO USEFUL INFORMATION IN 'OBS' ARRAY. CALLING PROGRAM CAN CHOOSE TO STOP OR AGAIN CALL IW3UNP29 WHICH WILL ATTEMPT TO UNPACK THE FIRST OBSERVATION IN THE NEXT RECORD OF REPORTS. -999 APPLIES ONLY TO NON-EMPTY DATA SETS: INPUT ON29/124 DATA SET: FIRST CHOICE Y2K COMPLIANT PSEUDO-ON85 FILE HEADER LABEL NOT ENCOUNTERED WHERE EXPECTED, AND SECOND CHOICE NON-Y2K COMPLIANT ON85 FILE HEADER LABEL ALSO NOT ENCOUNTERED. INPUT BUFR DATA SET: EITHER HEADER LABEL IN FORMAT OF PSEUDO-ON85 COULD NOT BE RETURNED, OR AN ABNORMAL ERROR OCCURRED IN THE ATTEMPT TO DECODE AN OBSERVATION. FOR EITHER INPUT DATA SET TYPE, NO USEFUL INFORMATION IN 'OBS' ARRAY. CALLING PROGRAM CAN CHOOSE TO STOP WITH NON-ZERO CONDITION CODE OR RESET 'NUNIT' TO POINT TO A NEW DATA SET (IN WHICH CASE NEXT CALL TO IW3UNP29 SHOULD RETURN WITH IER=1). INPUT DATA SET NEITHER ON29/124 NOR BUFR: SPEAKS FOR ITSELF. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="iw3unp29_8f_source.html#l00281">281</a> of file <a class="el" href="iw3unp29_8f_source.html">iw3unp29.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="iw3unp29_8f.html">iw3unp29.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-w3emc: getgbmh.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-w3emc
   &#160;<span id="projectnumber">2.7.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('getgbmh_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">getgbmh.f File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="getgbmh_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ac4c2d81dcaf427548139d55ca7041022"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getgbmh_8f.html#ac4c2d81dcaf427548139d55ca7041022">getgbmh</a> (LUGB, LUGI, J, JPDS, JGDS, MBUF, CBUF, NLEN, NNUM, MNUM, KG, KF, K, KPDS, KGDS, IRET)</td></tr>
<tr class="memdesc:ac4c2d81dcaf427548139d55ca7041022"><td class="mdescLeft">&#160;</td><td class="mdescRight">SUBPROGRAM: GETGBMH FINDS A GRIB MESSAGE PRGMMR: IREDELL ORG: W/NMC23 DATE: 94-04-01.  <a href="getgbmh_8f.html#ac4c2d81dcaf427548139d55ca7041022">More...</a><br /></td></tr>
<tr class="separator:ac4c2d81dcaf427548139d55ca7041022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ac4c2d81dcaf427548139d55ca7041022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c2d81dcaf427548139d55ca7041022">&#9670;&nbsp;</a></span>getgbmh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgbmh </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUGI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>J</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>JPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>JGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character, dimension(mbuf)&#160;</td>
          <td class="paramname"><em>CBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NLEN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>MNUM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>KPDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(200)&#160;</td>
          <td class="paramname"><em>KGDS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SUBPROGRAM: GETGBMH FINDS A GRIB MESSAGE PRGMMR: IREDELL ORG: W/NMC23 DATE: 94-04-01. </p>
<p>ABSTRACT: FIND A GRIB MESSAGE. READ A GRIB INDEX FILE (OR OPTIONALLY THE GRIB FILE ITSELF) TO GET THE INDEX BUFFER (I.E. TABLE OF CONTENTS) FOR THE GRIB FILE. FIND IN THE INDEX BUFFER A REFERENCE TO THE GRIB MESSAGE REQUESTED. THE GRIB MESSAGE REQUEST SPECIFIES THE NUMBER OF MESSAGES TO SKIP AND THE UNPACKED PDS AND GDS PARAMETERS. (A REQUESTED PARAMETER OF -1 MEANS TO ALLOW ANY VALUE OF THIS PARAMETER TO BE FOUND.) IF THE REQUESTED GRIB MESSAGE IS FOUND, THEN ITS MESSAGE NUMBER IS RETURNED ALONG WITH THE UNPACKED PDS AND GDS PARAMETERS. IF THE GRIB MESSAGE IS NOT FOUND, THEN THE RETURN CODE WILL BE NONZERO.</p>
<p>PROGRAM HISTORY LOG: 94-04-01 IREDELL 95-10-31 IREDELL MODULARIZED PORTIONS OF CODE INTO SUBPROGRAMS AND ALLOWED FOR UNSPECIFIED INDEX FILE</p>
<p>USAGE: CALL GETGBMH(LUGB,LUGI,J,JPDS,JGDS, &amp; MBUF,CBUF,NLEN,NNUM,MNUM, &amp; KG,KF,K,KPDS,KGDS,IRET) INPUT ARGUMENTS: LUGB INTEGER UNIT OF THE UNBLOCKED GRIB DATA FILE (ONLY USED IF LUGI=0) LUGI INTEGER UNIT OF THE UNBLOCKED GRIB INDEX FILE (=0 TO GET INDEX BUFFER FROM THE GRIB FILE) J INTEGER NUMBER OF MESSAGES TO SKIP (=0 TO SEARCH FROM BEGINNING) (&lt;0 TO READ INDEX BUFFER AND SKIP -1-J MESSAGES) JPDS INTEGER (200) PDS PARAMETERS FOR WHICH TO SEARCH (=-1 FOR WILDCARD) (1) - ID OF CENTER (2) - GENERATING PROCESS ID NUMBER (3) - GRID DEFINITION (4) - GDS/BMS FLAG (RIGHT ADJ COPY OF OCTET 8) (5) - INDICATOR OF PARAMETER (6) - TYPE OF LEVEL (7) - HEIGHT/PRESSURE , ETC OF LEVEL (8) - YEAR INCLUDING (CENTURY-1) (9) - MONTH OF YEAR (10) - DAY OF MONTH (11) - HOUR OF DAY (12) - MINUTE OF HOUR (13) - INDICATOR OF FORECAST TIME UNIT (14) - TIME RANGE 1 (15) - TIME RANGE 2 (16) - TIME RANGE FLAG (17) - NUMBER INCLUDED IN AVERAGE (18) - VERSION NR OF GRIB SPECIFICATION (19) - VERSION NR OF PARAMETER TABLE (20) - NR MISSING FROM AVERAGE/ACCUMULATION (21) - CENTURY OF REFERENCE TIME OF DATA (22) - UNITS DECIMAL SCALE FACTOR (23) - SUBCENTER NUMBER (24) - PDS BYTE 29, FOR NMC ENSEMBLE PRODUCTS 128 IF FORECAST FIELD ERROR 64 IF BIAS CORRECTED FCST FIELD 32 IF SMOOTHED FIELD WARNING: CAN BE COMBINATION OF MORE THAN 1 (25) - PDS BYTE 30, NOT USED JGDS INTEGER (200) GDS PARAMETERS FOR WHICH TO SEARCH (ONLY SEARCHED IF JPDS(3)=255) (=-1 FOR WILDCARD) (1) - DATA REPRESENTATION TYPE (19) - NUMBER OF VERTICAL COORDINATE PARAMETERS (20) - OCTET NUMBER OF THE LIST OF VERTICAL COORDINATE PARAMETERS OR OCTET NUMBER OF THE LIST OF NUMBERS OF POINTS IN EACH ROW OR 255 IF NEITHER ARE PRESENT (21) - FOR GRIDS WITH PL, NUMBER OF POINTS IN GRID (22) - NUMBER OF WORDS IN EACH ROW LATITUDE/LONGITUDE GRIDS (2) - N(I) NR POINTS ON LATITUDE CIRCLE (3) - N(J) NR POINTS ON LONGITUDE MERIDIAN (4) - LA(1) LATITUDE OF ORIGIN (5) - LO(1) LONGITUDE OF ORIGIN (6) - RESOLUTION FLAG (RIGHT ADJ COPY OF OCTET 17) (7) - LA(2) LATITUDE OF EXTREME POINT (8) - LO(2) LONGITUDE OF EXTREME POINT (9) - DI LONGITUDINAL DIRECTION OF INCREMENT (10) - DJ LATITUDINAL DIRECTION INCREMENT (11) - SCANNING MODE FLAG (RIGHT ADJ COPY OF OCTET 28) GAUSSIAN GRIDS (2) - N(I) NR POINTS ON LATITUDE CIRCLE (3) - N(J) NR POINTS ON LONGITUDE MERIDIAN (4) - LA(1) LATITUDE OF ORIGIN (5) - LO(1) LONGITUDE OF ORIGIN (6) - RESOLUTION FLAG (RIGHT ADJ COPY OF OCTET 17) (7) - LA(2) LATITUDE OF EXTREME POINT (8) - LO(2) LONGITUDE OF EXTREME POINT (9) - DI LONGITUDINAL DIRECTION OF INCREMENT (10) - N - NR OF CIRCLES POLE TO EQUATOR (11) - SCANNING MODE FLAG (RIGHT ADJ COPY OF OCTET 28) (12) - NV - NR OF VERT COORD PARAMETERS (13) - PV - OCTET NR OF LIST OF VERT COORD PARAMETERS OR PL - LOCATION OF THE LIST OF NUMBERS OF POINTS IN EACH ROW (IF NO VERT COORD PARAMETERS ARE PRESENT OR 255 IF NEITHER ARE PRESENT POLAR STEREOGRAPHIC GRIDS (2) - N(I) NR POINTS ALONG LAT CIRCLE (3) - N(J) NR POINTS ALONG LON CIRCLE (4) - LA(1) LATITUDE OF ORIGIN (5) - LO(1) LONGITUDE OF ORIGIN (6) - RESOLUTION FLAG (RIGHT ADJ COPY OF OCTET 17) (7) - LOV GRID ORIENTATION (8) - DX - X DIRECTION INCREMENT (9) - DY - Y DIRECTION INCREMENT (10) - PROJECTION CENTER FLAG (11) - SCANNING MODE (RIGHT ADJ COPY OF OCTET 28) SPHERICAL HARMONIC COEFFICIENTS (2) - J PENTAGONAL RESOLUTION PARAMETER (3) - K "          " "
          (4)   - M      " "         " (5) - REPRESENTATION TYPE (6) - COEFFICIENT STORAGE MODE MERCATOR GRIDS (2) - N(I) NR POINTS ON LATITUDE CIRCLE (3) - N(J) NR POINTS ON LONGITUDE MERIDIAN (4) - LA(1) LATITUDE OF ORIGIN (5) - LO(1) LONGITUDE OF ORIGIN (6) - RESOLUTION FLAG (RIGHT ADJ COPY OF OCTET 17) (7) - LA(2) LATITUDE OF LAST GRID POINT (8) - LO(2) LONGITUDE OF LAST GRID POINT (9) - LATIT - LATITUDE OF PROJECTION INTERSECTION (10) - RESERVED (11) - SCANNING MODE FLAG (RIGHT ADJ COPY OF OCTET 28) (12) - LONGITUDINAL DIR GRID LENGTH (13) - LATITUDINAL DIR GRID LENGTH LAMBERT CONFORMAL GRIDS (2) - NX NR POINTS ALONG X-AXIS (3) - NY NR POINTS ALONG Y-AXIS (4) - LA1 LAT OF ORIGIN (LOWER LEFT) (5) - LO1 LON OF ORIGIN (LOWER LEFT) (6) - RESOLUTION (RIGHT ADJ COPY OF OCTET 17) (7) - LOV - ORIENTATION OF GRID (8) - DX - X-DIR INCREMENT (9) - DY - Y-DIR INCREMENT (10) - PROJECTION CENTER FLAG (11) - SCANNING MODE FLAG (RIGHT ADJ COPY OF OCTET 28) (12) - LATIN 1 - FIRST LAT FROM POLE OF SECANT CONE INTER (13) - LATIN 2 - SECOND LAT FROM POLE OF SECANT CONE INTER MBUF INTEGER LENGTH OF INDEX BUFFER IN BYTES CBUF CHARACTER*1 (MBUF) INDEX BUFFER (INITIALIZE BY SETTING J=-1) NLEN INTEGER LENGTH OF EACH INDEX RECORD IN BYTES (INITIALIZE BY SETTING J=-1) NNUM INTEGER NUMBER OF INDEX RECORDS (INITIALIZE BY SETTING J=-1) MNUM INTEGER NUMBER OF INDEX RECORDS SKIPPED (INITIALIZE BY SETTING J=-1) OUTPUT ARGUMENTS: CBUF CHARACTER*1 (MBUF) INDEX BUFFER NLEN INTEGER LENGTH OF EACH INDEX RECORD IN BYTES NNUM INTEGER NUMBER OF INDEX RECORDS MNUM INTEGER NUMBER OF INDEX RECORDS SKIPPED KG INTEGER NUMBER OF BYTES IN THE GRIB MESSAGE KF INTEGER NUMBER OF DATA POINTS IN THE MESSAGE K INTEGER MESSAGE NUMBER UNPACKED (CAN BE SAME AS J IN CALLING PROGRAM IN ORDER TO FACILITATE MULTIPLE SEARCHES) KPDS INTEGER (200) UNPACKED PDS PARAMETERS KGDS INTEGER (200) UNPACKED GDS PARAMETERS IRET INTEGER RETURN CODE 0 ALL OK 96 ERROR READING INDEX FILE 99 REQUEST NOT FOUND</p>
<p>SUBPROGRAMS CALLED: GETGI READ INDEX FILE GETGIR READ INDEX BUFFER FROM GRIB FILE GETGB1S SEARCH INDEX RECORDS LENGDS RETURN THE LENGTH OF A GRID</p>
<p>REMARKS: SPECIFY AN INDEX FILE IF FEASIBLE TO INCREASE SPEED. SUBPROGRAM CAN BE CALLED FROM A MULTIPROCESSING ENVIRONMENT. DO NOT ENGAGE THE SAME LOGICAL UNIT FROM MORE THAN ONE PROCESSOR.</p>
<p>ATTRIBUTES: LANGUAGE: FORTRAN 77 MACHINE: CRAY, WORKSTATIONS </p>

<p class="definition">Definition at line <a class="el" href="getgbmh_8f_source.html#l00195">195</a> of file <a class="el" href="getgbmh_8f_source.html">getgbmh.f</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="getgbmh_8f.html">getgbmh.f</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
